(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{38:function(e,t,c){},40:function(e,t,c){},51:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c(30),i=c.n(r),s=c(15),a=c(3),o=(c(38),c(7)),l=c(4),u=c.n(l),d=c(8),p=(c(40),c(52)),j=c(9),b=c(31),f=3,m=1,O=Object(b.create)((function(e){return{recipes:[],selectedRecipes:[],setRecipes:function(t){return e({recipes:t})},addSelectedRecipe:function(t){return e((function(e){return{selectedRecipes:[].concat(Object(j.a)(e.selectedRecipes),[t])}}))},removeSelectedRecipe:function(t){return e((function(e){return{selectedRecipes:e.selectedRecipes.filter((function(e){return e!==t}))}}))},removeAllSelectedRecipes:function(){return e({selectedRecipes:[]})},loadMoreRecipes:function(){var t=Object(d.a)(u.a.mark((function t(c,n){var r,i,s,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=1===m&&c>0,i=-1===m&&c<0,n&&(s=Math.floor(n/5)+1,f+=s),!(1===f&&c<0)){t.next=5;break}return t.abrupt("return");case 5:if(r||3!==f||i){t.next=7;break}return t.abrupt("return");case 7:return r&&(f+=1),c>0&&!r&&(f+=3),i&&(f-=1),c<0&&!i&&(f-=3),t.prev=11,t.next=14,p.a.get("https://api.punkapi.com/v2/beers?page=".concat(f,"&per_page=5"));case 14:a=t.sent,e((function(e){var t;return t=n?[].concat(Object(j.a)(e.recipes),Object(j.a)(a.data.splice(0,n))):c>0?[].concat(Object(j.a)(e.recipes.slice(5)),Object(j.a)(a.data)):[].concat(Object(j.a)(a.data),Object(j.a)(e.recipes.slice(0,10))),m=c,{recipes:t}})),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(11),console.error("Error loading more recipes:",t.t0);case 21:case"end":return t.stop()}}),t,null,[[11,18]])})));return function(e,c){return t.apply(this,arguments)}}()}})),h=c(32),v=c.n(h),x=c(5),_=function(e){var t=e.recipe,c=Object(n.useState)(!1),r=Object(o.a)(c,2),i=r[0],a=r[1],l=O(),u=l.addSelectedRecipe,d=l.removeSelectedRecipe;return Object(x.jsxs)(s.b,{to:"/recipe/".concat(t.id),onContextMenu:function(e){e.preventDefault(),a(!i),i?d(t.id):u(t.id)},className:v()("card",{selected:i}),children:[Object(x.jsx)("img",{className:"card__img",src:t.image_url,alt:t.name}),Object(x.jsx)("p",{className:"card__name",children:t.name}),Object(x.jsx)("p",{className:"card__desc",children:t.description.length>50?"".concat(t.description,"..."):t.description})]})},g=function(e){var t=e.recipes;return Object(x.jsx)("div",{className:"recipe__container",children:t.map((function(e){return Object(x.jsx)(_,{recipe:e},e.id)}))})},R=function(){var e=O(),t=e.recipes,c=e.setRecipes,r=e.selectedRecipes,i=e.loadMoreRecipes,s=e.removeAllSelectedRecipes;Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("https://api.punkapi.com/v2/beers?page=1&per_page=15");case 3:t=e.sent,c(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching recipes:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[c]);var a=Object(n.useState)(!1),l=Object(o.a)(a,2),j=l[0],b=l[1],f=Object(n.useRef)(0);Object(n.useEffect)((function(){var e=function(){if(!j){var e=document.documentElement.scrollTop;e>f.current&&document.documentElement.scrollHeight-(window.innerHeight+e)<=5&&b(!0),e<f.current&&e<=5&&b(!0),f.current=e}};return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[j]),Object(n.useEffect)((function(){j&&i(f.current<5?-1:1).then((function(){1!==t[0].id&&window.scrollTo({top:f.current<5?400:60,behavior:"smooth"}),b(!1)})).catch((function(e){b(!1),console.error("Error loading more recipes:",e)}))}),[j]);return Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:"Beer Recipe App"}),r.length?Object(x.jsx)("button",{onClick:function(){var e=t.filter((function(e){return!r.includes(e.id)}));i(1,r.length),s(),c(e)},className:"button",type:"button",children:"Delete selected"}):null,Object(x.jsx)(g,{recipes:t})]})};i.a.render(Object(x.jsx)(s.a,{children:Object(x.jsx)(a.c,{children:Object(x.jsxs)(a.a,{children:[Object(x.jsx)(a.a,{index:!0,element:Object(x.jsx)(R,{})}),Object(x.jsx)(a.a,{path:"/recipe/:id",Component:function(){var e=O(),t=e.recipes,c=e.removeAllSelectedRecipes,r=Object(a.p)().id,i=t.find((function(e){return e.id===parseInt(null!==r&&void 0!==r?r:"",10)}));return i?(Object(n.useEffect)((function(){c()}),[]),Object(x.jsxs)("div",{className:"details",children:[Object(x.jsx)(s.b,{to:"/",className:"details__link",children:"Home"}),Object(x.jsxs)("div",{className:"details__content",children:[Object(x.jsx)("div",{className:"details__img",children:Object(x.jsx)("img",{src:i.image_url,alt:i.name})}),Object(x.jsxs)("div",{className:"details__inf",children:[Object(x.jsx)("h1",{className:"details__name",children:i.name}),Object(x.jsx)("p",{className:"details__description",children:i.description}),Object(x.jsx)("p",{children:"first_brewed:".concat(i.first_brewed)}),Object(x.jsx)("p",{children:"abv:".concat(i.abv)}),Object(x.jsx)("p",{children:"ibu:".concat(i.ibu)})]})]})]})):Object(x.jsx)("div",{children:"Loading..."})}})]})})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.1116fb65.chunk.js.map